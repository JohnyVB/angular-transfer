<!-- Navbar -->
<nav class="navbar navbar-expand-lg position-absolute top-0 z-index-3 w-100 shadow-none my-3  navbar-transparent mt-4">
    <div class="container">

        <a class="links navbar-brand font-weight-bolder ms-lg-0 ms-3 text-white" [routerLink]="['/home']">
            AngularTransfer
        </a>

        <a [routerLink]="['/home']" class="links btn btn-sm btn-round mb-0 me-1 bg-gradient-light">
            Portal usuarios
        </a>

        <a [routerLink]="['/loginatm']" class="links btn btn-sm btn-round mb-0 me-1 bg-gradient-light">
            Portal ATM
        </a>

    </div>
</nav>
<!-- End Navbar -->
<section class="h-100-vh mb-8">
    <div class="page-header align-items-start section-height-25 pt-5 pb-11 m-3 border-radius-lg"
        style="background-image: url('../assets/img/curved-images/curved14.jpg');">
        <span class="mask bg-gradient-dark opacity-6"></span>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-5 text-center mx-auto">
                    <h1 class="text-white mb-2 mt-5">Bienvenido!</h1>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row mt-lg-n10 mt-md-n11 mt-n10">
            <div class="col-xl-8 col-lg-5 col-md-7 mx-auto">
                <div class="card z-index-0">

                    <div class="card-body">

                        <form [formGroup]="this.registerForm" novalidate (ngSubmit)="createUser()" class="row"
                            role="form text-left">

                            <h3 class="my-1 text-center">Registro</h3>

                            <div class="col-12 bg-gradient-dark text-center my-1 rounded"
                                *ngIf="this.stateCreate === 2">
                                <p class="text-white my-2">Se ha creado correctamente el usuario</p>
                            </div>

                            <div class="col-6 my-1">
                                <label for="firstName" class="form-label">Nombres</label>
                                <div class="input-group mb-3">
                                    <input type="text" class="form-control" formControlName="firstName"
                                        placeholder="Nombres" id="firstName" aria-describedby="basic-addon3">
                                </div>
                                <div
                                    *ngIf="registerForm.get('firstName')?.errors && this.registerForm.get('firstName')?.errors && this.registerForm.get('firstName')?.dirty && this.registerForm.get('firstName')?.touched">
                                    <span *ngIf="this.registerForm.get('firstName')?.hasError('required')"
                                        class="text-danger">Campo requerido</span>
                                </div>
                            </div>

                            <div class="col-6 my-1">
                                <label for="lastName" class="form-label">Apellidos</label>
                                <div class="input-group mb-3">
                                    <input type="text" class="form-control" formControlName="lastName"
                                        placeholder="Apellidos" id="lastName" aria-describedby="basic-addon3">
                                </div>
                                <div
                                    *ngIf="registerForm.get('lastName')?.errors && this.registerForm.get('lastName')?.errors && this.registerForm.get('lastName')?.dirty && this.registerForm.get('lastName')?.touched">
                                    <span *ngIf="this.registerForm.get('lastName')?.hasError('required')"
                                        class="text-danger">Campo requerido</span>
                                </div>
                            </div>

                            <div class="col-6 my-1">
                                <label for="typeDocument" class="form-label">Tipo de cedula</label>
                                <div class="input-group mb-3">
                                    <label class="input-group-text" for="typeDocument">Opciones</label>
                                    <select class="form-select" formControlName="typeDocument" id="typeDocument">
                                        <option value="" disabled>Elija...</option>
                                        <option value="Cedula de ciudadania">Cedula de ciudadania</option>
                                        <option value="Cedula de extranjeria">Cedula de extranjeria</option>
                                        <option value="Pasaporte">Pasaporte</option>
                                    </select>
                                </div>
                                <div
                                    *ngIf="registerForm.get('typeDocument')?.errors && this.registerForm.get('typeDocument')?.errors && this.registerForm.get('typeDocument')?.dirty && this.registerForm.get('typeDocument')?.touched">
                                    <span *ngIf="this.registerForm.get('typeDocument')?.hasError('required')"
                                        class="text-danger">Campo requerido</span>
                                </div>
                            </div>

                            <div class="col-6 my-1">
                                <label for="document" class="form-label">Numero de documento</label>
                                <div class="input-group mb-3">
                                    <span class="input-group-text"><i class="bi bi-sort-numeric-down"></i></span>
                                    <input type="number" class="form-control" formControlName="document"
                                        placeholder="Numero de documento" id="document" aria-describedby="basic-addon3">
                                </div>
                                <span id="documentErr" class="text-danger"></span>
                                <div
                                    *ngIf="registerForm.get('document')?.errors && this.registerForm.get('document')?.errors && this.registerForm.get('document')?.dirty && this.registerForm.get('document')?.touched">
                                    <span *ngIf="this.registerForm.get('document')?.hasError('required')"
                                        class="text-danger">Campo requerido</span>
                                </div>
                            </div>

                            <div class="col-12 my-1">
                                <label for="dateBirth" class="form-label">Fecha de nacimiento</label>
                                <div class="input-group mb-3">
                                    <input type="date" class="form-control" formControlName="dateBirth" id="dateBirth"
                                        aria-describedby="basic-addon3">
                                </div>
                                <div
                                    *ngIf="registerForm.get('dateBirth')?.errors && this.registerForm.get('dateBirth')?.errors && this.registerForm.get('dateBirth')?.dirty && this.registerForm.get('dateBirth')?.touched">
                                    <span *ngIf="this.registerForm.get('dateBirth')?.hasError('required')"
                                        class="text-danger">Campo requerido</span>
                                </div>
                            </div>


                            <div class="col-6 my-1">
                                <label for="countryBirth" class="form-label">Pais de nacimiento</label>
                                <div class="input-group mb-3">
                                    <label class="input-group-text" for="countryBirth">Opciones</label>
                                    <select class="form-select" (change)="getCity()" formControlName="countryBirth"
                                        id="countryBirth">
                                        <option value="" disabled>Pais</option>
                                        <option [value]="item['name']" *ngFor="let item of this.countries">
                                            {{item['name']}}</option>
                                    </select>
                                </div>
                                <div
                                    *ngIf="registerForm.get('countryBirth')?.errors && this.registerForm.get('countryBirth')?.errors && this.registerForm.get('placeBirth')?.dirty && this.registerForm.get('countryBirth')?.touched">
                                    <span *ngIf="this.registerForm.get('countryBirth')?.hasError('required')"
                                        class="text-danger">Campo requerido</span>
                                </div>
                            </div>

                            <div class="col-6 my-1">
                                <label for="cityBirth" class="form-label">Ciudad de nacimiento</label>
                                <div class="input-group mb-3">
                                    <label class="input-group-text" for="cityBirth">Opciones</label>
                                    <select class="form-select" formControlName="cityBirth" id="cityBirth">
                                        <option value="" disabled>Ciudad</option>
                                        <option [value]="item['name']" *ngFor="let item of this.cities">{{item['name']}}
                                        </option>
                                    </select>
                                </div>
                                <div
                                    *ngIf="registerForm.get('cityBirth')?.errors && this.registerForm.get('cityBirth')?.errors && this.registerForm.get('cityBirth')?.dirty && this.registerForm.get('cityBirth')?.touched">
                                    <span *ngIf="this.registerForm.get('cityBirth')?.hasError('required')"
                                        class="text-danger">Campo requerido</span>
                                </div>
                            </div>


                            <div class="col-6 my-1">
                                <label for="expeditionDate" class="form-label">Fecha de expedición</label>
                                <div class="input-group mb-3">
                                    <input type="date" class="form-control" formControlName="expeditionDate"
                                        id="expeditionDate" aria-describedby="basic-addon3">
                                </div>
                                <div
                                    *ngIf="registerForm.get('expeditionDate')?.errors && this.registerForm.get('expeditionDate')?.errors && this.registerForm.get('expeditionDate')?.dirty && this.registerForm.get('expeditionDate')?.touched">
                                    <span *ngIf="this.registerForm.get('expeditionDate')?.hasError('required')"
                                        class="text-danger">Campo requerido</span>
                                </div>
                            </div>

                            <div class="col-6 my-1">
                                <label for="gender" class="form-label">Sexo</label>
                                <div class="input-group mb-3">
                                    <label class="input-group-text" for="gender">Opciones</label>
                                    <select class="form-select" formControlName="gender" id="gender">
                                        <option value="" disabled>Elija...</option>
                                        <option value="Femenino">Femenino</option>
                                        <option value="Masculino">Masculino</option>
                                        <option value="Otro">Otro</option>
                                    </select>
                                </div>
                                <div
                                    *ngIf="registerForm.get('gender')?.errors && this.registerForm.get('gender')?.errors && this.registerForm.get('gender')?.dirty && this.registerForm.get('gender')?.touched">
                                    <span *ngIf="this.registerForm.get('gender')?.hasError('required')"
                                        class="text-danger">Campo requerido</span>
                                </div>
                            </div>


                            <div class="col-6 my-1">
                                <label for="email" class="form-label">Correo electronico</label>
                                <div class="input-group mb-3">
                                    <input type="email" class="form-control" formControlName="email"
                                        placeholder="Correo electronico" id="email" aria-describedby="basic-addon3">
                                </div>
                                <span id="emailErr" class="text-danger"></span>
                                <div
                                    *ngIf="registerForm.get('email')?.errors && this.registerForm.get('email')?.errors && this.registerForm.get('email')?.dirty && this.registerForm.get('email')?.touched">
                                    <span *ngIf="this.registerForm.get('email')?.hasError('required')"
                                        class="text-danger">Campo requerido</span>
                                    <span *ngIf="this.registerForm.get('email')?.hasError('email')"
                                        class="text-danger">Debe ser un email valido</span>
                                </div>
                            </div>

                            <div class="col-6 my-1">
                                <label for="password" class="form-label">Contraseña</label>
                                <div class="input-group mb-3">
                                    <input type="password" class="form-control" formControlName="password"
                                        placeholder="Contraseña" id="password" aria-describedby="basic-addon3">
                                </div>
                                <div
                                    *ngIf="registerForm.get('password')?.errors && this.registerForm.get('password')?.errors && this.registerForm.get('password')?.dirty && this.registerForm.get('password')?.touched">
                                    <span *ngIf="this.registerForm.get('password')?.hasError('required')"
                                        class="text-danger">Campo requerido</span>
                                    <span *ngIf="this.registerForm.get('password')?.hasError('minLength')"
                                        class="text-danger">Debe de ser minimo 6 caracteres</span>
                                </div>
                            </div>

                            <div class="col-12 my-1 form-check form-check-info text-left">
                                <input class="form-check-input" type="checkbox" value="" formControlName="checkTerms"
                                    id="checkTerms" checked>
                                <label class="form-check-label" for="checkTerms">
                                    Acepto los <a href="javascript:;" class="text-dark font-weight-bolder">Terminos y
                                        condiciones</a>
                                </label>

                            </div>

                            <div class="text-center">
                                <button (click)="createUser()"
                                    [disabled]="this.registerForm.invalid || this.stateCreate === 1" type="button"
                                    class="btn bg-gradient-dark w-100 my-4 mb-2">
                                    <span *ngIf="this.stateCreate === 0 || this.stateCreate === 2">Crear</span>
                                    <div *ngIf="this.stateCreate === 1" class="col-3 spinner-border text-info"
                                        style="width: 1rem; height: 1rem;" role="status">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                </button>
                            </div>

                        </form>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<app-footer></app-footer>